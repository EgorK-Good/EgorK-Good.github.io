<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A-Frame Game</title>
    <script src="https://aframe.io/releases/1.6.0/aframe.min.js"></script>
    <script src="https://unpkg.com/aframe-event-set-component@3.0.3/dist/aframe-event-set-component.min.js"></script>
    <style>
        body { margin: 0; }
        canvas { display: block; }
    </style>
</head>
<body>
    <a-scene>
        <!-- Небо и пол -->
        <a-assets>
            <img id="sky" src="sky.png">
            <img id="ground" src="ret.png">
        </a-assets>
        <a-sky src="#sky"></a-sky>
        <a-plane position="0 0 0" rotation="-90 0 0" width="100" height="100" color="#7BC8A4" src="#ground"></a-plane>

        <!-- Камера и контроллер -->
        <a-entity camera look-controls  wasd-controls="acceleration:100" position="0 1.6 0">
            <a-cursor></a-cursor>
        </a-entity>

        <!-- Объекты для сбора -->
        <a-box id="collectible1" position="2 1 -3" color="#4CC3D9" collectible></a-box>
        <a-sphere id="collectible2" position="-2 1 -3" radius="0.5" color="#EF2D5E" collectible></a-sphere>
        <a-cylinder id="collectible3" position="0 1 -5" radius="0.5" height="1" color="#FFC65D" collectible></a-cylinder>

        <!-- Текст счета -->
        <a-text id="scoreText" value="Score: 0" position="-1 2.5 -3" color="#000"></a-text>

        <!-- Таймер -->
        <a-text id="timerText" value="Time: 60" position="1 2.5 -3" color="#000"></a-text>

        <!-- 3D модель -->
        <a-entity gltf-model="url(https://example.com/path/to/your/model.glb)" position="0 1 -7"></a-entity>
    </a-scene>

    <script>
        // Логика сбора объектов
        AFRAME.registerComponent('collectible', {
            init: function () {
                this.el.addEventListener('click', () => {
                    this.el.setAttribute('visible', false);
                    updateScore();
                });
            }
        });

        let score = 0;
        function updateScore() {
            score += 1;
            document.querySelector('#scoreText').setAttribute('value', 'Score: ' + score);
        }

        // Таймер
        let timeLeft = 60;
        let timerInterval = setInterval(() => {
            timeLeft -= 1;
            document.querySelector('#timerText').setAttribute('value', 'Time: ' + timeLeft);
            if (timeLeft <= 0) {
                clearInterval(timerInterval);
                endGame();
            }
        }, 1000);

        function endGame() {
            document.querySelector('#timerText').setAttribute('value', 'Game Over! Final Score: ' + score);
            // Добавьте логику для перезапуска игры, если необходимо
        }
    </script>
</body>
</html>
